<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>화면보호기</title>
<style>
	body{
		margin: 0;
	}
	#container{
		width: 1000px; margin: 0 auto; background-color: #ddd;
	}
	#content>img{
		width: 100%;
	}
	#imgLst>img{
		width: 100px; height: 100px;
	}
	/*화면보호기*/
	#saverMsg{
		font-size: 2em;
		color: yellow;
		text-align: center;
		position: absolute;
		width: 100%;
	}
	#saverMsg, #saverImg, #wing{
		display: none;
	}
	#saverImg{
		width: 100%;
	}
	#wing{
		width: 300px;
		height: 100px;
		position: absolute;
		top: 0;
		left: 0;
	}
	
	
</style>
<script>
	function imageSet(){
		var imgName = ['movie01.png', 'movie02.png', 'movie03.png', 'movie08.png', 'movie05.png', 'movie06.png', 'movie07.png'];
		var tag = "";
		for(var i=0; i<imgName.length; i++){
			tag += "<img src='../img/"+imgName[i]+"' onclick='showScreenSaver(this.src)'>";
		}
		document.getElementById("imgLst").innerHTML = tag;
	}
	//화면보호기 이미지 클릭
	var timer;
	function showScreenSaver(selImg){
		var wHeight = window.innerHeight;//현재 원도우 높이를 구한다.
		console.log(selImg)
		//1. 현재 컨텐츠 전체 숨기기
		document.getElementById("container").style.display = "none"
		//2. 화면보호기 매세지 보여주기
		document.getElementById("saverMsg").style.display = "block"
		/*//3. 화면보호기 이미지 보여주기
		var saverImg = document.getElementById("saverImg")
		saverImg.style.display = "block"
		saverImg.src = selImg;
		saverImg.style.height = wHeight+"px"
		*/
		
		//3. 화면보호기 이미지를 백그라운드로 설정
		document.body.style.backgroundImage = "url("+selImg+")"
		document.body.style.backgroundSize = "100% "+wHeight+"px"
		//4. 날개 이미지 보여주기
		document.getElementById("wing").style.display = "block"
		timer = setInterval("screenSaverMove()", 10)
	}
	
	//화면보호기 종료
	function endScreenSaver(){
		clearInterval(timer)
		document.getElementById("container").style.display = "block"
		document.getElementById("saverMsg").style.display = "none"
		//document.getElementById("saverImg").style.display = "none"
		document.body.style.backgroundImage = "" //배경이미지 지우기
		document.getElementById("wing").style.display = "none"
	}
	
	//날개 움직이기
	var wWidth, wHeight, left=0, y=0, leftStep=5, topStep=5;
	function screenSaverMove(){
		//원도우 크기 
		wWidth = window.innerWidth;
		wHeight = window.innerHeight;
		
		left = left + leftStep; //+5
		y = y + topStep; //+5
		
		var wing = document.getElementById("wing").style;
		wing.left = left+"px";
		wing.top = y+"px";
		
		
		//방향전환하기
		if(wHeight-100<=y){topStep = -5;} //y감소
		if(wWidth-300<=left) {leftStep = -5;} //x감소
		if(y<=0){topStep = 5;} //y증가
		if(left<=0){leftStep = 5;} //x증가
		
	}
</script>
</head>
<body onload="imageSet()" onkeyup="endScreenSaver()">
<!-- 컨텐츠 -->
<div id="container">
	<div>이미지를 클릭하시면 화면보호기로 이동합니다.</div>
	<div id="imgLst"></div>
	<hr>
	<div id="content">
		<img src="../img/13.jpg">
		<img src="../img/12.jpg">
	</div>
</div>
<!-- 화면보호기 -->
<div id="saverMsg">아무키나 누르시면 화면보호기가 종료됩니다.</div>
<!-- <img src="../img/13.jpg" id="saverImg"> -->
<img src="../img/wingani.gif" id="wing">
</body>
</html>